<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì˜¤ê°€ë…¸ì´ë“œ ê²°ê³¼</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      display: flex;
      width: 80%;
      max-width: 1200px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }
    /* ì™¼ìª½ ì‚¬ì´ë“œë°” */
    .sidebar {
      width: 250px;
      background: #eee;
      padding: 15px;
      border-radius: 10px;
      margin-right: 20px;
    }
    .sidebar h3 {
      text-align: center;
    }
    .action-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 10px 0;
    }
    .action-button {
      flex-grow: 1;
      padding: 10px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      text-align: center;
      cursor: pointer;
    }
    .action-button:hover {
      background-color: #0056b3;
    }
    .info-icon {
      font-size: 1.2em;
      cursor: pointer;
      margin-left: 5px;
    }
    /* ì˜¤ë¥¸ìª½ ê²°ê³¼ ì˜ì—­ */
    .result-container {
      flex: 1;
      text-align: center;
    }
    .organoid-image {
      width: 80%;
      max-width: 500px;
      border-radius: 10px;
    }
    /* ë‡Œ ìƒíƒœ ì§€í‘œ ì˜ì—­ */
    .stats-container {
      margin-top: 20px;
      margin-left: 50px; /* ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ */
      text-align: left;
      display: inline-block;
    }
    .stats-container h3 {
      text-align: center;
    }
    .stats-item {
      margin: 5px 0;
    }
    .stats-label {
      display: inline-block;
      width: 150px;
      font-weight: bold;
    }
    #risk-container {
      margin-top: 20px;
      font-size: 1.2em;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div class="container">
  <!-- ì™¼ìª½ UI: í–‰ë™ ì„ íƒ ë²„íŠ¼ë“¤ -->
  <div class="sidebar">
    <h3>í–‰ë™ ì„ íƒ</h3>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('exercise')">ğŸƒ ìš´ë™</button>
      <span class="info-icon" onclick="showInfo('exercise')">â„¹ï¸</span>
    </div>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('sugar')">ğŸ­ ë‹¨ ìŒì‹ ì„­ì·¨</button>
      <span class="info-icon" onclick="showInfo('sugar')">â„¹ï¸</span>
    </div>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('caffeine')">â˜• ì¹´í˜ì¸ ì„­ì·¨</button>
      <span class="info-icon" onclick="showInfo('caffeine')">â„¹ï¸</span>
    </div>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('omega3')">ğŸŸ ì˜¤ë©”ê°€-3 ì„­ì·¨</button>
      <span class="info-icon" onclick="showInfo('omega3')">â„¹ï¸</span>
    </div>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('pollution')">ğŸŒ« ê³µê¸° ì˜¤ì—¼</button>
      <span class="info-icon" onclick="showInfo('pollution')">â„¹ï¸</span>
    </div>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('pesticide')">â˜ ï¸ ë†ì•½ ë…¸ì¶œ</button>
      <span class="info-icon" onclick="showInfo('pesticide')">â„¹ï¸</span>
    </div>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('stress')">ğŸ˜Ÿ ìŠ¤íŠ¸ë ˆìŠ¤</button>
      <span class="info-icon" onclick="showInfo('stress')">â„¹ï¸</span>
    </div>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('probiotics')">ğŸ¦  í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤</button>
      <span class="info-icon" onclick="showInfo('probiotics')">â„¹ï¸</span>
    </div>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('vitaminE')">ğŸ’Š ë¹„íƒ€ë¯¼ E ì„­ì·¨</button>
      <span class="info-icon" onclick="showInfo('vitaminE')">â„¹ï¸</span>
    </div>
    <div class="action-item">
      <button class="action-button" onclick="applyEffect('happyImagination')">ğŸŒˆ í–‰ë³µí•œ ìƒìƒí•˜ê¸°</button>
      <span class="info-icon" onclick="showInfo('happyImagination')">â„¹ï¸</span>
    </div>
  </div>

  <!-- ì˜¤ë¥¸ìª½: ê²°ê³¼ ì˜ì—­ -->
  <div class="result-container">
    <!-- ìƒë‹¨ì— í–‰ë™ íšŸìˆ˜ í‘œì‹œ -->
    <h2>ë‹¹ì‹ ì˜ ê°€ìƒ ì˜¤ê°€ë…¸ì´ë“œ <span id="action-count">(0/10)</span></h2>

    <!-- ì„¤ë¬¸ì¡°ì‚¬ ì •ë³´ í‘œì‹œ -->
    <p id="resultInfo"></p>

    <!-- ì˜¤ê°€ë…¸ì´ë“œ ì´ë¯¸ì§€ -->
    <img id="organoid-image" class="organoid-image" 
         src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfgYQ4qnCZba9AFnz9JVcl6rWTTQcr3wcOiw&s" 
         alt="ê°€ìƒ ì˜¤ê°€ë…¸ì´ë“œ">

    <!-- ë‡Œ ìƒíƒœ ì§€í‘œ í‘œì‹œ -->
    <div class="stats-container">
      <h3>ë‡Œ ìƒíƒœ ì§€í‘œ</h3>
      <div class="stats-item">
        <span class="stats-label">ì•ŒíŒŒì‹œëˆ„í´ë ˆì¸ ì‘ì§‘:</span>
        <span id="alphaSynucleinValue"></span>
      </div>
      <div class="stats-item">
        <span class="stats-label">ì‹ ê²½ì—¼ì¦:</span>
        <span id="neuroInflammationValue"></span>
      </div>
      <div class="stats-item">
        <span class="stats-label">í™œì„±ì‚°ì†Œ:</span>
        <span id="oxidativeStressValue"></span>
      </div>
      <div class="stats-item">
        <span class="stats-label">ë„íŒŒë¯¼ ì‹ ê²½ì„¸í¬:</span>
        <span id="dopamineNeuronValue"></span>
      </div>
      <div class="stats-item">
        <span class="stats-label">ë¯¸í† ì½˜ë“œë¦¬ì•„ ê¸°ëŠ¥:</span>
        <span id="mitochondriaValue"></span>
      </div>
      <div class="stats-item">
        <span class="stats-label">ì‹ ê²½ ì„±ì¥ ì¸ì:</span>
        <span id="neurotrophicValue"></span>
      </div>
    </div>
    <div id="risk-container"></div>
  </div>
</div>

<script>
// ------------------ ì´ˆê¸° ì„¤ì • ------------------
let actionCount = 0;
const maxActions = 10;

// ì´ˆê¸° ë‡Œ ìƒíƒœ ì§€í‘œ (ê¸°ë³¸ê°’)
const stats = {
    alphaSynuclein: 10,      // ì•ŒíŒŒì‹œëˆ„í´ë ˆì¸ ì‘ì§‘ë„
    neuroInflammation: 10,   // ì‹ ê²½ì—¼ì¦
    oxidativeStress: 10,     // í™œì„±ì‚°ì†Œ
    dopamineNeuron: 80,      // ë„íŒŒë¯¼ ì‹ ê²½ì„¸í¬ (ìµœëŒ€ 80)
    mitochondria: 90,        // ë¯¸í† ì½˜ë“œë¦¬ì•„ ê¸°ëŠ¥
    neurotrophic: 70         // ì‹ ê²½ ì„±ì¥ ì¸ì
};

// URL íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©ì ë°ì´í„° ë°›ê¸°
function getQueryParams() {
    const params = new URLSearchParams(window.location.search);
    return {
        age: params.get("age"),
        gender: params.get("gender"),
        history: params.get("history")
    };
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
document.addEventListener("DOMContentLoaded", function() {
    const userData = getQueryParams();
    initStatsByUserData(userData);
    document.getElementById("resultInfo").innerText = 
        `ë‚˜ì´: ${userData.age} / ì„±ë³„: ${userData.gender} / ê°€ì¡±ë ¥: ${userData.history}`;
    updateStatsUI();
});

// ì‚¬ìš©ì ì •ë³´ì— ë”°ë¥¸ ì´ˆê¸° ìƒíƒœ ì¡°ì •
function initStatsByUserData(userData) {
    let age = parseInt(userData.age) || 30;
    if (age > 60) {
        stats.alphaSynuclein += 10;
        stats.neuroInflammation += 5;
    } else if (age < 20) {
        stats.dopamineNeuron += 5; 
    }
    if (userData.history === "yes") {
        stats.alphaSynuclein += 5;
    }
    if (userData.gender === "male") {
        stats.alphaSynuclein += 3;
    }
}

// í–‰ë™ì— ë”°ë¥¸ íš¨ê³¼ ì ìš©
function applyEffect(action) {
    if (actionCount >= maxActions) {
        alert("ë” ì´ìƒ í–‰ë™í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤! (ìµœëŒ€ 10ë²ˆ)");
        return;
    }

    actionCount++;
    document.getElementById("action-count").innerText = `(${actionCount}/10)`;

    switch(action) {
        case 'exercise':
            alert("ìš´ë™ì€ ì‹ ê²½ ë³´í˜¸ì™€ ë¯¸í† ì½˜ë“œë¦¬ì•„ ê¸°ëŠ¥ í–¥ìƒì— ë„ì›€ì´ ë©ë‹ˆë‹¤! ğŸƒâ€â™‚ï¸");
            stats.neuroInflammation -= 2;
            stats.oxidativeStress -= 1;
            stats.dopamineNeuron += 2;
            stats.mitochondria += 2;
            stats.neurotrophic += 1;
            break;
        case 'sugar':
            alert("ë‹¨ ìŒì‹ì„ ë¨¹ìœ¼ë©´ ì‹ ê²½ ì—¼ì¦ê³¼ í™œì„±ì‚°ì†Œê°€ ì¦ê°€í•©ë‹ˆë‹¤. ğŸ­");
            stats.neuroInflammation += 2;
            stats.oxidativeStress += 1;
            stats.mitochondria -= 1;
            break;
        case 'caffeine':
            alert("ì¹´í˜ì¸ì€ ë„íŒŒë¯¼ ì‹ ê²½ ë³´í˜¸ì— ë„ì›€ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. â˜•");
            stats.dopamineNeuron += 1;
            stats.oxidativeStress += 1;
            break;
        case 'omega3':
            alert("ì˜¤ë©”ê°€-3ëŠ” ì—¼ì¦ ê°ì†Œì™€ ì‹ ê²½ ë³´í˜¸ íš¨ê³¼ê°€ ìˆìŠµë‹ˆë‹¤! ğŸŸ");
            stats.alphaSynuclein -= 2;
            stats.neuroInflammation -= 2;
            stats.mitochondria += 2;
            stats.neurotrophic += 2;
            break;
        case 'pollution':
            alert("ê³µê¸° ì˜¤ì—¼ì€ ì‹ ê²½ ì—¼ì¦ê³¼ ë¯¸í† ì½˜ë“œë¦¬ì•„ ê¸°ëŠ¥ ì €í•˜ë¥¼ ìœ ë°œí•©ë‹ˆë‹¤. ğŸŒ«");
            stats.neuroInflammation += 3;
            stats.oxidativeStress += 2;
            stats.mitochondria -= 2;
            break;
        case 'pesticide':
            alert("ë†ì•½ ë…¸ì¶œì€ ë‡Œ ë…ì„±ì„ ì¦ê°€ì‹œì¼œ íŒŒí‚¨ìŠ¨ ìœ„í—˜ì„ ë†’ì…ë‹ˆë‹¤. â˜ ï¸");
            stats.alphaSynuclein += 3;
            stats.dopamineNeuron -= 3;
            stats.mitochondria -= 3;
            break;
        case 'stress':
            alert("ìŠ¤íŠ¸ë ˆìŠ¤ëŠ” ë„íŒŒë¯¼ ë‰´ëŸ°ê³¼ ë¯¸í† ì½˜ë“œë¦¬ì•„ì— ë¶€ì •ì ì¸ ì˜í–¥ì„ ì¤ë‹ˆë‹¤. ğŸ˜Ÿ");
            stats.dopamineNeuron -= 2;
            stats.oxidativeStress += 2;
            stats.mitochondria -= 2;
            stats.neurotrophic -= 1;
            break;
        case 'probiotics':
            alert("í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤ëŠ” ì¥-ë‡Œ ì¶•ì„ ì¡°ì ˆí•˜ì—¬ ì—¼ì¦ì„ ì¤„ì—¬ì¤ë‹ˆë‹¤. ğŸ¦ ");
            stats.neuroInflammation -= 1;
            stats.neurotrophic += 1;
            break;
        case 'vitaminE':
            alert("ë¹„íƒ€ë¯¼ EëŠ” í•­ì‚°í™” ì‘ìš©ìœ¼ë¡œ í™œì„±ì‚°ì†Œë¥¼ ì¤„ì—¬ ë‡Œë¥¼ ë³´í˜¸í•©ë‹ˆë‹¤. ğŸ’Š");
            stats.oxidativeStress -= 3;
            stats.alphaSynuclein -= 1;
            stats.mitochondria += 1;
            stats.neurotrophic += 1;
            break;
        case 'happyImagination':
            alert("í–‰ë³µí•œ ìƒìƒì€ ìŠ¤íŠ¸ë ˆìŠ¤ ì™„í™”ì™€ ê¸ì •ì  ì‹ ê²½ í™”í•™ë¬¼ì§ˆ ì´‰ì§„ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤. ğŸŒˆ");
            stats.neuroInflammation -= 2;
            stats.dopamineNeuron += 2;
            stats.mitochondria += 1;
            stats.neurotrophic += 2;
            break;
    }

    clampStats();
    updateStatsUI();
}

// ìˆ˜ì¹˜ ë³´ì • (0~100)
function clampStats() {
    stats.alphaSynuclein = Math.max(0, Math.min(stats.alphaSynuclein, 100));
    stats.neuroInflammation = Math.max(0, Math.min(stats.neuroInflammation, 100));
    stats.oxidativeStress = Math.max(0, Math.min(stats.oxidativeStress, 100));
    stats.dopamineNeuron = Math.max(0, Math.min(stats.dopamineNeuron, 80));
    stats.mitochondria = Math.max(0, Math.min(stats.mitochondria, 100));
    stats.neurotrophic = Math.max(0, Math.min(stats.neurotrophic, 100));
}

// UI ì—…ë°ì´íŠ¸ ë° íŒŒí‚¨ìŠ¨ë³‘ ìœ„í—˜ ê³„ì‚°
function updateStatsUI() {
    document.getElementById("alphaSynucleinValue").innerText = stats.alphaSynuclein;
    document.getElementById("neuroInflammationValue").innerText = stats.neuroInflammation;
    document.getElementById("oxidativeStressValue").innerText = stats.oxidativeStress;
    document.getElementById("dopamineNeuronValue").innerText = stats.dopamineNeuron;
    document.getElementById("mitochondriaValue").innerText = stats.mitochondria;
    document.getElementById("neurotrophicValue").innerText = stats.neurotrophic;

    // ëª¨ë“  í–‰ë™ í›„ íŒŒí‚¨ìŠ¨ë³‘ ìœ„í—˜ ê³„ì‚° ë° í‘œì‹œ
    if (actionCount >= maxActions) {
        let risk = calculateRisk();
        document.getElementById("risk-container").innerText = `íŒŒí‚¨ìŠ¨ë³‘ ë°œë³‘ í™•ë¥ : ${risk}%`;
    }
}

// íŒŒí‚¨ìŠ¨ë³‘ ë°œë³‘ ìœ„í—˜ ê³„ì‚° (0~100%)
function calculateRisk() {
    let dopamineRisk = 100 - (stats.dopamineNeuron * 100 / 80);
    let total = stats.alphaSynuclein + stats.neuroInflammation + stats.oxidativeStress + dopamineRisk + (100 - stats.mitochondria) + (100 - stats.neurotrophic);
    let risk = Math.round(total / 6);
    return Math.max(0, Math.min(risk, 100));
}123

// ì •ë³´ ì•„ì´ì½˜ í´ë¦­ ì‹œ ê°„ë‹¨í•œ ì„¤ëª… í‘œì‹œ
function showInfo(action) {
    let message = "";
    switch(action) {
        case 'exercise':
            message = "ìš´ë™ì€ ë‡Œ í˜ˆë¥˜ë¥¼ ì¦ê°€ì‹œí‚¤ê³ , ì‹ ê²½ ë³´í˜¸ ë° ë¯¸í† ì½˜ë“œë¦¬ì•„ ê¸°ëŠ¥ í–¥ìƒì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.";
            break;
        case 'sugar':
            message = "ë‹¨ ìŒì‹ì€ ì‹ ê²½ ì—¼ì¦ê³¼ í™œì„±ì‚°ì†Œ ìƒì„±ì„ ì´‰ì§„í•˜ì—¬ ë‡Œ ê±´ê°•ì— ë¶€ì •ì  ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.";
            break;
        case 'caffeine':
            message = "ì¹´í˜ì¸ì€ ë„íŒŒë¯¼ ë‰´ëŸ° ë³´í˜¸ì— ë„ì›€ì„ ì¤„ ìˆ˜ ìˆìœ¼ë‚˜, ê³¼ë„í•˜ë©´ ë¶€ì‘ìš©ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
            break;
        case 'omega3':
            message = "ì˜¤ë©”ê°€-3ëŠ” ì—¼ì¦ ê°ì†Œì™€ ì‹ ê²½ ë³´í˜¸ íš¨ê³¼ë¥¼ í†µí•´ ë‡Œ ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤.";
            break;
        case 'pollution':
            message = "ê³µê¸° ì˜¤ì—¼ì€ ì‹ ê²½ ì—¼ì¦ì„ ì¦ê°€ì‹œí‚¤ê³  ë¯¸í† ì½˜ë“œë¦¬ì•„ ê¸°ëŠ¥ ì €í•˜ë¥¼ ì´ˆë˜í•©ë‹ˆë‹¤.";
            break;
        case 'pesticide':
            message = "ë†ì•½ ë…¸ì¶œì€ ë‡Œ ë…ì„±ì„ ìœ ë°œí•´ íŒŒí‚¨ìŠ¨ë³‘ ìœ„í—˜ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
            break;
        case 'stress':
            message = "ìŠ¤íŠ¸ë ˆìŠ¤ëŠ” ë„íŒŒë¯¼ ë‰´ëŸ° ì†ìƒê³¼ ë¯¸í† ì½˜ë“œë¦¬ì•„ ê¸°ëŠ¥ ì €í•˜ë¥¼ ìœ ë°œí•©ë‹ˆë‹¤.";
            break;
        case 'probiotics':
            message = "í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤ëŠ” ì¥-ë‡Œ ì¶•ì„ ì¡°ì ˆí•´ ì‹ ê²½ ì—¼ì¦ì„ ì¤„ì´ê³  ë‡Œ ê±´ê°•ì„ ì§€ì›í•©ë‹ˆë‹¤.";
            break;
        case 'vitaminE':
            message = "ë¹„íƒ€ë¯¼ EëŠ” í•­ì‚°í™” íš¨ê³¼ë¡œ í™œì„±ì‚°ì†Œë¥¼ ê°ì†Œì‹œí‚¤ë©° ë‡Œë¥¼ ë³´í˜¸í•©ë‹ˆë‹¤.";
            break;
        case 'happyImagination':
            message = "í–‰ë³µí•œ ìƒìƒì€ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì™„í™”í•˜ê³  ê¸ì •ì  ì‹ ê²½ í™”í•™ë¬¼ì§ˆ ë¶„ë¹„ë¥¼ ì´‰ì§„í•©ë‹ˆë‹¤.";
            break;
        default:
            message = "ì´ í–‰ë™ì´ ë‡Œì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì„¤ëª…í•©ë‹ˆë‹¤.";
            break;
    }
    alert(message);
}
</script>

</body>
</html>

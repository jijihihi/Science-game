<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ê°€ë…¸ì´ë“œ ê²°ê³¼</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .container {
            display: flex;
            width: 80%;
            max-width: 1200px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }

        /* ì™¼ìª½ ì‚¬ì´ë“œë°” */
        .sidebar {
            width: 250px;
            background: #eee;
            padding: 15px;
            border-radius: 10px;
            margin-right: 20px;
        }

        .sidebar h3 {
            text-align: center;
        }

        .action-button {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
        }

        .action-button:hover {
            background-color: #0056b3;
        }

        /* ì˜¤ë¥¸ìª½ ê²°ê³¼ ì˜ì—­ */
        .result-container {
            flex: 1;
            text-align: center;
        }

        .organoid-image {
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
        }

        /* ë‡Œ ìƒíƒœ ì§€í‘œ ì˜ì—­ */
        .stats-container {
            margin-top: 20px;
            text-align: left;
            display: inline-block; /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ ìœ„í•´ */
        }
        .stats-container h3 {
            text-align: center;
        }
        .stats-item {
            margin: 5px 0;
        }
        .stats-label {
            display: inline-block;
            width: 150px;
            font-weight: bold;
        }

        /* ë¶€ëª¨ ì»¨í…Œì´ë„ˆê°€ ì•„ë‹Œ, ì „ì²´ í™”ë©´ ê¸°ì¤€ìœ¼ë¡œ ê³ ì •í•˜ë ¤ë©´ bodyì— position: relative; ì¶”ê°€í•´ë„ ë¨ */
        body {
            position: relative; /* ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ staticì´ì§€ë§Œ, í•„ìš”í•˜ë‹¤ë©´ ì¶”ê°€ */
        }   

/* ë‡Œ ìƒíƒœ ì§€í‘œë¥¼ ì˜¤ë¥¸ìª½ ìƒë‹¨ì— ê³ ì •í•˜ëŠ” ìŠ¤íƒ€ì¼ */
        .stats-floating {
        position: absolute;
        top: 20px;
        right: 20px;

        width: 220px; /* ì¹´ë“œ ë„ˆë¹„ ì¡°ì ˆ */
        background-color: #fff;
        color: #333;

        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);

        font-size: 14px; /* ê¸€ì í¬ê¸° */
        z-index: 999;    /* ë‹¤ë¥¸ ìš”ì†Œë³´ë‹¤ ìœ„ì— í‘œì‹œ */
        }

        .stats-floating h3 {
        margin-top: 0;
        margin-bottom: 10px;
        text-align: center;
        font-weight: bold;
        font-size: 16px;
        }

        .stats-item {
        margin: 5px 0;
        line-height: 1.4;
        }

        .stats-label {
        display: inline-block;
        width: 110px; /* ë¼ë²¨ ë„ˆë¹„ */
        font-weight: bold;
        color: #555;
        }

        .stats-floating span {
        color: #111;
        }   


        


    </style>
</head>
<body>



    <!-- ë‡Œ ìƒíƒœ ì§€í‘œ (ì˜¤ë¥¸ìª½ ìƒë‹¨ ê³ ì •) -->
    <div class="stats-floating">
        <h3>ë‡Œ ìƒíƒœ ì§€í‘œ</h3>
     <div class="stats-item">
        <span class="stats-label">ì•ŒíŒŒì‹œëˆ„í´ë ˆì¸ ì‘ì§‘:</span>
         <span id="alphaSynucleinValue"></span>
    </div>

    <div class="stats-item">
        <span class="stats-label">ì‹ ê²½ì—¼ì¦:</span>
        <span id="neuroInflammationValue"></span>
     </div>
    <div class="stats-item">
        <span class="stats-label">í™œì„±ì‚°ì†Œ:</span>
        <span id="oxidativeStressValue"></span>
    </div>
    <div class="stats-item">
        <span class="stats-label">ë„íŒŒë¯¼ ì‹ ê²½ì„¸í¬:</span>
        <span id="dopamineNeuronValue"></span>
     </div>
    </div>

<div class="container">
    <!-- ì™¼ìª½ UI: í–‰ë™ ì„ íƒ ë²„íŠ¼ë“¤ -->
    <div class="sidebar">
        <h3>í–‰ë™ ì„ íƒ</h3>
        <button class="action-button" onclick="applyEffect('exercise')">ğŸƒ ìš´ë™</button>
        <button class="action-button" onclick="applyEffect('sugar')">ğŸ­ ë‹¨ ìŒì‹ ì„­ì·¨</button>
        <button class="action-button" onclick="applyEffect('caffeine')">â˜• ì¹´í˜ì¸ ì„­ì·¨</button>
        <button class="action-button" onclick="applyEffect('omega3')">ğŸŸ ì˜¤ë©”ê°€-3 ì„­ì·¨</button>
        <button class="action-button" onclick="applyEffect('pollution')">ğŸŒ« ê³µê¸° ì˜¤ì—¼</button>
        <button class="action-button" onclick="applyEffect('pesticide')">â˜ ï¸ ë†ì•½ ë…¸ì¶œ</button>
        <button class="action-button" onclick="applyEffect('stress')">ğŸ˜Ÿ ìŠ¤íŠ¸ë ˆìŠ¤</button>
        <button class="action-button" onclick="applyEffect('probiotics')">ğŸ¦  í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤</button>
    </div>

    <!-- ì˜¤ë¥¸ìª½: ê²°ê³¼ ì˜ì—­ -->
    <div class="result-container">
        <!-- ìƒë‹¨ì— í–‰ë™ íšŸìˆ˜ í‘œì‹œ -->
        <h2>ë‹¹ì‹ ì˜ ê°€ìƒ ì˜¤ê°€ë…¸ì´ë“œ <span id="action-count">(0/10)</span></h2>

        <!-- ì„¤ë¬¸ì¡°ì‚¬ ì •ë³´ í‘œì‹œ (Jinjaë‚˜ JSë¡œ í‘œì‹œ ê°€ëŠ¥) -->
        <p id="resultInfo"></p>

        <!-- ì˜¤ê°€ë…¸ì´ë“œ ì´ë¯¸ì§€ -->
        <img id="organoid-image" class="organoid-image" 
             src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfgYQ4qnCZba9AFnz9JVcl6rWTTQcr3wcOiw&s" 
             alt="ê°€ìƒ ì˜¤ê°€ë…¸ì´ë“œ">

    </div>
</div>

<script>
// ------------------ ì´ˆê¸° ì„¤ì • ------------------

// í–‰ë™ ìµœëŒ€ íšŸìˆ˜
let actionCount = 0;
const maxActions = 10;

// ë‡Œ ìƒíƒœ ì§€í‘œ (ì´ˆê¸°ê°’)
const stats = {
    alphaSynuclein: 10,      // ì•ŒíŒŒì‹œëˆ„í´ë ˆì¸ ì‘ì§‘ë„
    neuroInflammation: 10,   // ì‹ ê²½ì—¼ì¦
    oxidativeStress: 10,     // í™œì„±ì‚°ì†Œ
    dopamineNeuron: 80       // ë‚¨ì€ ë„íŒŒë¯¼ ì‹ ê²½ì„¸í¬(ê°€ë ¹ 100ì„ ìµœëŒ€ë¡œ ê°€ì •)
};

// URL íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©ì ë°ì´í„° ë°›ê¸°
function getQueryParams() {
    const params = new URLSearchParams(window.location.search);
    return {
        age: params.get("age"),      // ë‚˜ì´
        gender: params.get("gender"),// ì„±ë³„
        history: params.get("history") // ê°€ì¡±ë ¥
    };
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
document.addEventListener("DOMContentLoaded", function() {
    const userData = getQueryParams();
    // ë‚˜ì´/ì„±ë³„/ê°€ì¡±ë ¥ì— ë”°ë¼ stats ì¡°ì •
    initStatsByUserData(userData);

    // ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
    document.getElementById("resultInfo").innerText = 
        `ë‚˜ì´: ${userData.age} / ì„±ë³„: ${userData.gender} / ê°€ì¡±ë ¥: ${userData.history}`;

    // ì´ˆê¸° ìƒíƒœ í‘œì‹œ
    updateStatsUI();
});


// ------------------ ì‚¬ìš©ì ì •ë³´ì— ë”°ë¥¸ ì´ˆê¸°í™” ------------------
function initStatsByUserData(userData) {
    // ë‚˜ì´ê°€ ë§ìœ¼ë©´ ì•ŒíŒŒì‹œëˆ„í´ë ˆì¸â†‘, ì‹ ê²½ì—¼ì¦â†‘
    let age = parseInt(userData.age) || 30;
    if (age > 60) {
        stats.alphaSynuclein += 10;
        stats.neuroInflammation += 5;
    } else if (age < 20) {
        // ì•„ì£¼ ì Šìœ¼ë©´ ë‡Œ ê±´ê°•ì´ ë” ì¢‹ë‹¤ ê°€ì •
        stats.dopamineNeuron += 5; 
    }

    // ê°€ì¡±ë ¥ ìˆìœ¼ë©´ ì•ŒíŒŒì‹œëˆ„í´ë ˆì¸â†‘
    if (userData.history === "yes") {
        stats.alphaSynuclein += 5;
    }

    // ì„±ë³„(ë‚¨ì„±ì´ë¼ë©´ íŒŒí‚¨ìŠ¨ ìœ„í—˜ ì¡°ê¸ˆ ë” ë†’ê²Œ ê°€ì •) 
    // ì‹¤ì œ ì˜í•™ì  ê·¼ê±°ì™€ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë‹ˆ ì˜ˆì‹œë¡œë§Œ :)
    if (userData.gender === "male") {
        stats.alphaSynuclein += 3;
    }
}

// ------------------ í–‰ë™ì— ë”°ë¥¸ íš¨ê³¼ ------------------
function applyEffect(action) {
    if (actionCount >= maxActions) {
        alert("ë” ì´ìƒ í–‰ë™í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤! (ìµœëŒ€ 10ë²ˆ)");
        return;
    }

    actionCount++;
    let actionCounter = document.getElementById("action-count");
    if (actionCounter) {
        actionCounter.innerText = `(${actionCount}/10)`;
    }

    switch(action) {
        case 'exercise':
            alert("ìš´ë™ì„ í•˜ë©´ ì‹ ê²½ ë³´í˜¸ íš¨ê³¼ê°€ ìƒê¹ë‹ˆë‹¤! ğŸƒâ€â™‚ï¸");
            // ì‹ ê²½ì—¼ì¦ ê°ì†Œ, í™œì„±ì‚°ì†Œ ê°ì†Œ, ë„íŒŒë¯¼ ë‰´ëŸ° ë³´í˜¸
            stats.neuroInflammation -= 2;
            stats.oxidativeStress -= 1;
            stats.dopamineNeuron += 2;
            break;

        case 'sugar':
            alert("ë‹¨ ìŒì‹ì„ ë¨¹ìœ¼ë©´ ì‹ ê²½ ì—¼ì¦ì´ ì¦ê°€í•©ë‹ˆë‹¤. ğŸ­");
            // ì‹ ê²½ì—¼ì¦â†‘, í™œì„±ì‚°ì†Œâ†‘
            stats.neuroInflammation += 2;
            stats.oxidativeStress += 1;
            break;

        case 'caffeine':
            alert("ì¹´í˜ì¸ì€ ë„íŒŒë¯¼ ì‹ ê²½ì„ ë³´í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. â˜•");
            // ë„íŒŒë¯¼ ë‰´ëŸ° ì•½ê°„ ë³´í˜¸, í™œì„±ì‚°ì†Œ ì‚´ì§ ì¦ê°€?
            stats.dopamineNeuron += 1;
            stats.oxidativeStress += 1;
            break;

        case 'omega3':
            alert("ì˜¤ë©”ê°€-3ëŠ” ì‹ ê²½ ë³´í˜¸ íš¨ê³¼ê°€ ìˆìŠµë‹ˆë‹¤! ğŸŸ");
            // ì•ŒíŒŒì‹œëˆ„í´ë ˆì¸ ì‘ì§‘ ê°ì†Œ, ì‹ ê²½ì—¼ì¦â†“
            stats.alphaSynuclein -= 2;
            stats.neuroInflammation -= 2;
            break;

        case 'pollution':
            alert("ê³µê¸° ì˜¤ì—¼ì— ë…¸ì¶œë˜ë©´ ì‹ ê²½ ì—¼ì¦ì´ ì¦ê°€í•©ë‹ˆë‹¤. ğŸŒ«");
            stats.neuroInflammation += 3;
            stats.oxidativeStress += 2;
            break;

        case 'pesticide':
            alert("ë†ì•½ ë…¸ì¶œì€ ì‹ ê²½ ë…ì„±ì„ ìœ ë°œí•©ë‹ˆë‹¤. â˜ ï¸");
            // ì•ŒíŒŒì‹œëˆ„í´ë ˆì¸â†‘, ë„íŒŒë¯¼ ë‰´ëŸ°â†“
            stats.alphaSynuclein += 3;
            stats.dopamineNeuron -= 3;
            break;

        case 'stress':
            alert("ìŠ¤íŠ¸ë ˆìŠ¤ëŠ” ë„íŒŒë¯¼ ì‹ ê²½ì„ ì†ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ˜Ÿ");
            stats.dopamineNeuron -= 2;
            stats.oxidativeStress += 2;
            break;

        case 'probiotics':
            alert("í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤ëŠ” ì¥-ë‡Œ ì¶•ì„ ì¡°ì ˆí•©ë‹ˆë‹¤. ğŸ¦ ");
            // ì‹ ê²½ì—¼ì¦ ì‚´ì§ ê°ì†Œ
            stats.neuroInflammation -= 1;
            break;
    }

    // ìˆ˜ì¹˜ê°€ ë„ˆë¬´ ë‚´ë ¤ê°€ê±°ë‚˜ ì˜¬ë¼ê°€ì§€ ì•Šë„ë¡ ë³´ì • (0~100 ë²”ìœ„ ì˜ˆì‹œ)
    clampStats();

    // ì—…ë°ì´íŠ¸ í›„ UI ê°±ì‹ 
    updateStatsUI();
}

// ------------------ í†µê³„ ìˆ˜ì¹˜ ë³´ì • (0~100 ì‚¬ì´ë¡œ ì œí•œ) ------------------
function clampStats() {
    stats.alphaSynuclein = Math.max(0, Math.min(stats.alphaSynuclein, 100));
    stats.neuroInflammation = Math.max(0, Math.min(stats.neuroInflammation, 100));
    stats.oxidativeStress = Math.max(0, Math.min(stats.oxidativeStress, 100));
    stats.dopamineNeuron = Math.max(0, Math.min(stats.dopamineNeuron, 100));
}

// ------------------ UI ì—…ë°ì´íŠ¸ ------------------
function updateStatsUI() {
    document.getElementById("alphaSynucleinValue").innerText = stats.alphaSynuclein;
    document.getElementById("neuroInflammationValue").innerText = stats.neuroInflammation;
    document.getElementById("oxidativeStressValue").innerText = stats.oxidativeStress;
    document.getElementById("dopamineNeuronValue").innerText = stats.dopamineNeuron;
}
</script>

</body>
</html>
